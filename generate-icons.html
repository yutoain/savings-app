<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç¢„Ç§„Ç≥„É≥ÁîüÊàê</title>
</head>
<body>
    <h1>PWA„Ç¢„Ç§„Ç≥„É≥ÁîüÊàê„ÉÑ„Éº„É´</h1>
    <p>‰∏ã„ÅÆ„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„ÄÅicon-192.png„Å®icon-512.png„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>

    <canvas id="canvas192" width="192" height="192" style="display: none;"></canvas>
    <canvas id="canvas512" width="512" height="512" style="display: none;"></canvas>

    <button onclick="generateIcon(192)" style="margin: 10px; padding: 10px 20px; font-size: 16px; cursor: pointer;">
        icon-192.png „Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
    </button>
    <button onclick="generateIcon(512)" style="margin: 10px; padding: 10px 20px; font-size: 16px; cursor: pointer;">
        icon-512.png „Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
    </button>

    <div style="margin-top: 20px;">
        <h3>„Éó„É¨„Éì„É•„Éº:</h3>
        <div style="display: flex; gap: 20px;">
            <div>
                <p>192x192</p>
                <div id="preview192"></div>
            </div>
            <div>
                <p>512x512</p>
                <div id="preview512" style="max-width: 300px;"></div>
            </div>
        </div>
    </div>

    <script>
        function generateIcon(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const ctx = canvas.getContext('2d');

            // ËÉåÊôØËâ≤
            ctx.fillStyle = '#4F46E5';
            ctx.roundRect(0, 0, size, size, size / 6.4);
            ctx.fill();

            // ÁµµÊñáÂ≠ó„ÇíÊèèÁîª
            ctx.font = `${size * 0.55}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('üí∞', size / 2, size / 1.8);

            // „Éó„É¨„Éì„É•„ÉºË°®Á§∫
            const img = new Image();
            img.src = canvas.toDataURL();
            img.style.border = '1px solid #ccc';
            img.style.borderRadius = '12px';
            if (size === 512) img.style.width = '300px';
            document.getElementById(`preview${size}`).innerHTML = '';
            document.getElementById(`preview${size}`).appendChild(img);

            // „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `icon-${size}.png`;
                a.click();
                URL.revokeObjectURL(url);
            });
        }

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´„Éó„É¨„Éì„É•„ÉºÁîüÊàê
        window.onload = () => {
            const sizes = [192, 512];
            sizes.forEach(size => {
                const canvas = document.getElementById(`canvas${size}`);
                const ctx = canvas.getContext('2d');

                ctx.fillStyle = '#4F46E5';
                ctx.roundRect(0, 0, size, size, size / 6.4);
                ctx.fill();

                ctx.font = `${size * 0.55}px Arial`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText('üí∞', size / 2, size / 1.8);

                const img = new Image();
                img.src = canvas.toDataURL();
                img.style.border = '1px solid #ccc';
                img.style.borderRadius = '12px';
                if (size === 512) img.style.width = '300px';
                document.getElementById(`preview${size}`).appendChild(img);
            });
        };
    </script>
</body>
</html>
